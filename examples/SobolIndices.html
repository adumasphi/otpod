<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Sobol Indices &#8212; otpod  documentation</title>
    
    <link rel="stylesheet" href="../_static/openturns.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="otpod  documentation" href="../index.html" />
    <link rel="up" title="Examples of the API" href="../examples.html" />
    <link rel="prev" title="Adaptive Hit Miss POD" href="adaptiveHitMissPOD.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../user_manual.html">Doc</a></li>
    <li><a href="../examples.html">Examples</a></li>
    <li><a href="https://github.com/adumasphi/otpod">Code</a></li>
  </ul>
  <a href="../index.html">
    <h1>
      <img src="../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      otpod
    </h1>
    <h2> A module to build Probability of Detection for Non Destructive Testing. </h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="adaptiveHitMissPOD.html" title="Adaptive Hit Miss POD"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">otpod  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../examples.html" accesskey="U">Examples of the API</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sobol Indices</a><ul>
<li><a class="reference internal" href="#generate-data">Generate data</a></li>
<li><a class="reference internal" href="#build-pod-with-kriging-model">Build POD with Kriging model</a><ul>
<li><a class="reference internal" href="#running-the-kriging-based-pod">Running the Kriging based POD</a></li>
<li><a class="reference internal" href="#show-pod-graphs">Show POD graphs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-the-sensitivity-analysis">Run the sensitivity analysis</a><ul>
<li><a class="reference internal" href="#draw-the-figure-with-given-labels">Draw the figure with given labels</a></li>
<li><a class="reference internal" href="#get-the-results">Get the results</a></li>
<li><a class="reference internal" href="#change-the-defect-sizes-list">Change the defect sizes list</a></li>
<li><a class="reference internal" href="#change-the-method-to-compute-the-indices">Change the method to compute the indices</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="adaptiveHitMissPOD.html"
                        title="previous chapter">Adaptive Hit Miss POD</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/examples/SobolIndices.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><a class="reference external" href="SobolIndices.ipynb">ipynb source code</a></p>
<div class="section" id="sobol-indices">
<h1>Sobol Indices<a class="headerlink" href="#sobol-indices" title="Permalink to this headline">¶</a></h1>
<p>It is required to first build a POD object based on the Kriging
metamodel in order to compute the Sobol indices. It also can be used
only if the input parameters dimension is greater than 2 (without
counting the defect).</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># import relevant module</span>
<span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="kn">import</span> <span class="nn">otpod</span>
<span class="c1"># enable display figure in notebook</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>
</div>
<div class="section" id="generate-data">
<h2>Generate data<a class="headerlink" href="#generate-data" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">inputSample</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">NumericalSample</span><span class="p">(</span>
    <span class="p">[[</span><span class="mf">4.59626812e+00</span><span class="p">,</span> <span class="mf">7.46143339e-02</span><span class="p">,</span> <span class="mf">1.02231538e+00</span><span class="p">,</span> <span class="mf">8.60042277e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.14315790e+00</span><span class="p">,</span> <span class="mf">4.20801346e-02</span><span class="p">,</span> <span class="mf">1.05874908e+00</span><span class="p">,</span> <span class="mf">2.65757364e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.76735111e+00</span><span class="p">,</span> <span class="mf">3.72414824e-02</span><span class="p">,</span> <span class="mf">1.05730385e+00</span><span class="p">,</span> <span class="mf">5.76058433e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.82811977e+00</span><span class="p">,</span> <span class="mf">2.49997658e-02</span><span class="p">,</span> <span class="mf">1.06954641e+00</span><span class="p">,</span> <span class="mf">2.54461380e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.48961094e+00</span><span class="p">,</span> <span class="mf">3.74562922e-02</span><span class="p">,</span> <span class="mf">1.04943946e+00</span><span class="p">,</span> <span class="mf">6.19483646e+00</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">5.05605334e+00</span><span class="p">,</span> <span class="mf">4.87599783e-02</span><span class="p">,</span> <span class="mf">1.06520409e+00</span><span class="p">,</span> <span class="mf">3.39024904e+00</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">5.69679328e+00</span><span class="p">,</span> <span class="mf">7.74915877e-02</span><span class="p">,</span> <span class="mf">1.04099514e+00</span><span class="p">,</span> <span class="mf">6.50990466e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">5.10193991e+00</span><span class="p">,</span> <span class="mf">4.35520544e-02</span><span class="p">,</span> <span class="mf">1.02502536e+00</span><span class="p">,</span> <span class="mf">5.51492592e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.04791970e+00</span><span class="p">,</span> <span class="mf">2.38565932e-02</span><span class="p">,</span> <span class="mf">1.01906882e+00</span><span class="p">,</span> <span class="mf">2.07875350e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.66238956e+00</span><span class="p">,</span> <span class="mf">5.49901237e-02</span><span class="p">,</span> <span class="mf">1.02427200e+00</span><span class="p">,</span> <span class="mf">1.45661275e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.86634219e+00</span><span class="p">,</span> <span class="mf">6.04693570e-02</span><span class="p">,</span> <span class="mf">1.08199374e+00</span><span class="p">,</span> <span class="mf">1.05104730e+00</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.13519347e+00</span><span class="p">,</span> <span class="mf">4.45225831e-02</span><span class="p">,</span> <span class="mf">1.01900124e+00</span><span class="p">,</span> <span class="mf">5.10117047e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.92541940e+00</span><span class="p">,</span> <span class="mf">7.87692335e-02</span><span class="p">,</span> <span class="mf">9.91868726e-01</span><span class="p">,</span> <span class="mf">8.32302238e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.70722074e+00</span><span class="p">,</span> <span class="mf">6.51799251e-02</span><span class="p">,</span> <span class="mf">1.10608515e+00</span><span class="p">,</span> <span class="mf">3.30181002e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.29040932e+00</span><span class="p">,</span> <span class="mf">1.75426222e-02</span><span class="p">,</span> <span class="mf">9.75678838e-01</span><span class="p">,</span> <span class="mf">2.28186756e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.89291400e+00</span><span class="p">,</span> <span class="mf">2.34997929e-02</span><span class="p">,</span> <span class="mf">1.07669835e+00</span><span class="p">,</span> <span class="mf">5.38926138e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.44653744e+00</span><span class="p">,</span> <span class="mf">7.63175936e-02</span><span class="p">,</span> <span class="mf">1.06979154e+00</span><span class="p">,</span> <span class="mf">5.19109415e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">3.99977452e+00</span><span class="p">,</span> <span class="mf">5.80430585e-02</span><span class="p">,</span> <span class="mf">1.01850716e+00</span><span class="p">,</span> <span class="mf">7.61988190e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">3.95491570e+00</span><span class="p">,</span> <span class="mf">1.09302814e-02</span><span class="p">,</span> <span class="mf">1.03687664e+00</span><span class="p">,</span> <span class="mf">6.09981789e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">5.16424368e+00</span><span class="p">,</span> <span class="mf">2.69026464e-02</span><span class="p">,</span> <span class="mf">1.06673711e+00</span><span class="p">,</span> <span class="mf">2.88708887e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">5.30491620e+00</span><span class="p">,</span> <span class="mf">4.53802273e-02</span><span class="p">,</span> <span class="mf">1.06254792e+00</span><span class="p">,</span> <span class="mf">3.03856837e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.92809155e+00</span><span class="p">,</span> <span class="mf">1.20616369e-02</span><span class="p">,</span> <span class="mf">1.00700410e+00</span><span class="p">,</span> <span class="mf">7.02512744e+00</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.68373805e+00</span><span class="p">,</span> <span class="mf">6.26028935e-02</span><span class="p">,</span> <span class="mf">1.05152117e+00</span><span class="p">,</span> <span class="mf">4.81271603e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">5.32381954e+00</span><span class="p">,</span> <span class="mf">4.33013582e-02</span><span class="p">,</span> <span class="mf">9.90522007e-01</span><span class="p">,</span> <span class="mf">6.56015973e+01</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4.35455857e+00</span><span class="p">,</span> <span class="mf">1.23814619e-02</span><span class="p">,</span> <span class="mf">1.01810539e+00</span><span class="p">,</span> <span class="mf">1.10769534e+01</span><span class="p">]])</span>

<span class="n">signals</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">NumericalSample</span><span class="p">(</span>
    <span class="p">[[</span> <span class="mf">37.305445</span><span class="p">],</span> <span class="p">[</span> <span class="mf">35.466919</span><span class="p">],</span> <span class="p">[</span> <span class="mf">43.187991</span><span class="p">],</span> <span class="p">[</span> <span class="mf">45.305165</span><span class="p">],</span> <span class="p">[</span> <span class="mf">40.121222</span><span class="p">],</span> <span class="p">[</span> <span class="mf">44.609524</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">45.14552</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">44.80595</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">35.414039</span><span class="p">],</span> <span class="p">[</span> <span class="mf">39.851778</span><span class="p">],</span> <span class="p">[</span> <span class="mf">42.046049</span><span class="p">],</span> <span class="p">[</span> <span class="mf">34.73469</span> <span class="p">],</span>
     <span class="p">[</span> <span class="mf">39.339349</span><span class="p">],</span> <span class="p">[</span> <span class="mf">40.384559</span><span class="p">],</span> <span class="p">[</span> <span class="mf">38.718623</span><span class="p">],</span> <span class="p">[</span> <span class="mf">46.189709</span><span class="p">],</span> <span class="p">[</span> <span class="mf">36.155737</span><span class="p">],</span> <span class="p">[</span> <span class="mf">31.768369</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">35.384313</span><span class="p">],</span> <span class="p">[</span> <span class="mf">47.914584</span><span class="p">],</span> <span class="p">[</span> <span class="mf">46.758537</span><span class="p">],</span> <span class="p">[</span> <span class="mf">46.564428</span><span class="p">],</span> <span class="p">[</span> <span class="mf">39.698493</span><span class="p">],</span> <span class="p">[</span> <span class="mf">45.636588</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">40.643948</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="section" id="build-pod-with-kriging-model">
<h2>Build POD with Kriging model<a class="headerlink" href="#build-pod-with-kriging-model" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># signal detection threshold</span>
<span class="n">detection</span> <span class="o">=</span> <span class="mf">38.</span>
</pre></div>
</div>
<div class="section" id="running-the-kriging-based-pod">
<h3>Running the Kriging based POD<a class="headerlink" href="#running-the-kriging-based-pod" title="Permalink to this headline">¶</a></h3>
<p>The computing time can be reduced by setting the simulation size
attribute to another value. However the confidence interval is less
accurate.</p>
<p>The sampling size is the number of the samples used to compute the POD
with the Monte Carlo simulation for each defect sizes.</p>
<p>A progress is displayed, which can be disabled with the method
<em>setVerbose</em>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">POD</span> <span class="o">=</span> <span class="n">otpod</span><span class="o">.</span><span class="n">KrigingPOD</span><span class="p">(</span><span class="n">inputSample</span><span class="p">,</span> <span class="n">signals</span><span class="p">,</span> <span class="n">detection</span><span class="p">)</span>
<span class="c1"># we can change the number of initial random search for the best starting point</span>
<span class="c1"># of the TNC algorithm which optimizes the covariance model parameters</span>
<span class="n">POD</span><span class="o">.</span><span class="n">setInitialStartSize</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="c1"># default is 1000</span>
<span class="c1"># we can change the sample size of the Monte Carlo simulation</span>
<span class="n">POD</span><span class="o">.</span><span class="n">setSamplingSize</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span> <span class="c1"># default is 5000</span>
<span class="c1"># we can also change the size of the simulation to compute the confidence interval</span>
<span class="n">POD</span><span class="o">.</span><span class="n">setSimulationSize</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="c1"># default is 1000</span>
<span class="o">%</span><span class="n">time</span> <span class="n">POD</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Start</span> <span class="n">optimizing</span> <span class="n">covariance</span> <span class="n">model</span> <span class="n">parameters</span><span class="o">...</span>
<span class="n">Kriging</span> <span class="n">optimizer</span> <span class="n">completed</span>
<span class="n">kriging</span> <span class="n">validation</span> <span class="n">Q2</span> <span class="p">(</span><span class="o">&gt;</span><span class="mf">0.9</span><span class="p">):</span> <span class="mf">0.9999</span>
<span class="n">Computing</span> <span class="n">POD</span> <span class="n">per</span> <span class="n">defect</span><span class="p">:</span> <span class="p">[</span><span class="o">==================================================</span><span class="p">]</span> <span class="mf">100.00</span><span class="o">%</span> <span class="n">Done</span>
<span class="n">CPU</span> <span class="n">times</span><span class="p">:</span> <span class="n">user</span> <span class="mf">32.6</span> <span class="n">s</span><span class="p">,</span> <span class="n">sys</span><span class="p">:</span> <span class="mf">8.08</span> <span class="n">s</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="mf">40.7</span> <span class="n">s</span>
<span class="n">Wall</span> <span class="n">time</span><span class="p">:</span> <span class="mf">17.7</span> <span class="n">s</span>
</pre></div>
</div>
</div>
<div class="section" id="show-pod-graphs">
<h3>Show POD graphs<a class="headerlink" href="#show-pod-graphs" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">POD</span><span class="o">.</span><span class="n">drawPOD</span><span class="p">(</span><span class="n">probabilityLevel</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">confidenceLevel</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
                      <span class="n">name</span><span class="o">=</span><span class="s1">&#39;figure/PODKriging.png&#39;</span><span class="p">)</span>
<span class="c1"># The figure is saved in PODPolyChaos.png</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/SobolIndices_10_0.png" src="../_images/SobolIndices_10_0.png" />
</div>
</div>
<div class="section" id="run-the-sensitivity-analysis">
<h2>Run the sensitivity analysis<a class="headerlink" href="#run-the-sensitivity-analysis" title="Permalink to this headline">¶</a></h2>
<p>The sensitivity analysis can only be performed with POD computed with a
kriging metamodel.</p>
<p>The Sobol indices are aggregated indices computed for the defect sizes
defined in the POD study.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># number of simulations</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">sobol</span> <span class="o">=</span> <span class="n">otpod</span><span class="o">.</span><span class="n">SobolIndices</span><span class="p">(</span><span class="n">POD</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="n">sobol</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="draw-the-figure-with-given-labels">
<h3>Draw the figure with given labels<a class="headerlink" href="#draw-the-figure-with-given-labels" title="Permalink to this headline">¶</a></h3>
<p>The default labels are <span class="math">\(Xi\)</span> but the user can specify its own input
labels. Besides, the figure can be saved specifying the attribute
<em>name</em>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">sobol</span><span class="o">.</span><span class="n">drawIndices</span><span class="p">([</span><span class="s1">&#39;X1&#39;</span><span class="p">,</span> <span class="s1">&#39;variable2&#39;</span><span class="p">,</span> <span class="s1">&#39;param3&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;figure/Sobol.png&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/SobolIndices_14_0.png" src="../_images/SobolIndices_14_0.png" />
</div>
<div class="section" id="get-the-results">
<h3>Get the results<a class="headerlink" href="#get-the-results" title="Permalink to this headline">¶</a></h3>
<p>The Sobol indices are given in the OpenTURNS object
<a class="reference external" href="http://doc.openturns.org/openturns-latest/sphinx/user_manual/_generated/openturns.SobolIndicesAlgorithm.html">SobolIndicesAlgorithm</a>.
The method <em>getSensitivityResult</em> allows the get this object and then
get back all wanted results.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># get the OpenTURNS object</span>
<span class="n">sobol_result</span> <span class="o">=</span> <span class="n">sobol</span><span class="o">.</span><span class="n">getSensitivityResult</span><span class="p">()</span>

<span class="c1"># get aggregated indices</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Aggregated first order: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getAggregatedFirstOrderIndices</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Aggregated total order: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getAggregatedTotalOrderIndices</span><span class="p">()))</span>

<span class="c1"># get the confidence interval</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First ordre confidence interval:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getFirstOrderIndicesInterval</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Aggregated</span> <span class="n">first</span> <span class="n">order</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.699866</span><span class="p">,</span><span class="mf">0.0271797</span><span class="p">,</span><span class="mf">0.000276829</span><span class="p">]</span>
<span class="n">Aggregated</span> <span class="n">total</span> <span class="n">order</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.938378</span><span class="p">,</span><span class="mf">0.242988</span><span class="p">,</span><span class="mf">0.00167926</span><span class="p">]</span>
<span class="n">First</span> <span class="n">ordre</span> <span class="n">confidence</span> <span class="n">interval</span><span class="p">:</span>
<span class="p">[</span><span class="mf">0.646461</span><span class="p">,</span> <span class="mf">0.747969</span><span class="p">]</span>
<span class="p">[</span><span class="mf">0.00793877</span><span class="p">,</span> <span class="mf">0.0463859</span><span class="p">]</span>
<span class="p">[</span><span class="o">-</span><span class="mf">0.0014029</span><span class="p">,</span> <span class="mf">0.0018746</span><span class="p">]</span>
</pre></div>
</div>
<p>It is also possible to retreive the Sobol indices for one defect size
among the list.</p>
<p>As example, we want the indices for the 4th defect size in the list. It
may return an error if the indices cannot be computed because no
variability exists. It is the case when the POD is equal to 0 or 1.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Defect sizes: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol</span><span class="o">.</span><span class="n">getDefectSizes</span><span class="p">()))</span>
<span class="c1"># get indices for a specific defect sizes</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1"># correspond with the 4th value.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Indices for defect size </span><span class="si">{:.3f}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol</span><span class="o">.</span><span class="n">getDefectSizes</span><span class="p">()[</span><span class="n">i</span><span class="p">],</span> <span class="n">sobol_result</span><span class="o">.</span><span class="n">getFirstOrderIndices</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Defect</span> <span class="n">sizes</span><span class="p">:</span> <span class="p">[</span> <span class="mf">3.9549157</span>   <span class="mf">4.04659347</span>  <span class="mf">4.13827123</span>  <span class="mf">4.229949</span>    <span class="mf">4.32162677</span>  <span class="mf">4.41330454</span>
  <span class="mf">4.5049823</span>   <span class="mf">4.59666007</span>  <span class="mf">4.68833784</span>  <span class="mf">4.78001561</span>  <span class="mf">4.87169337</span>  <span class="mf">4.96337114</span>
  <span class="mf">5.05504891</span>  <span class="mf">5.14672668</span>  <span class="mf">5.23840444</span>  <span class="mf">5.33008221</span>  <span class="mf">5.42175998</span>  <span class="mf">5.51343775</span>
  <span class="mf">5.60511551</span>  <span class="mf">5.69679328</span><span class="p">]</span>

<span class="n">Indices</span> <span class="k">for</span> <span class="n">defect</span> <span class="n">size</span> <span class="mf">4.230</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.758194</span><span class="p">,</span><span class="mf">0.014649</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00248782</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="change-the-defect-sizes-list">
<h3>Change the defect sizes list<a class="headerlink" href="#change-the-defect-sizes-list" title="Permalink to this headline">¶</a></h3>
<p>It is possible to modify the list of the defect sizes either to reduce
the range or to compute the indices for a specific defect value. If only
one defect size is provided, then the aggregated indices correspond to
the indices.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">sobol</span><span class="o">.</span><span class="n">setDefectSizes</span><span class="p">([</span><span class="mf">4.5</span><span class="p">])</span>
<span class="n">sobol</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># get the OpenTURNS object</span>
<span class="n">sobol_result</span> <span class="o">=</span> <span class="n">sobol</span><span class="o">.</span><span class="n">getSensitivityResult</span><span class="p">()</span>
<span class="c1"># get aggregated indices</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Aggregated first order: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getAggregatedFirstOrderIndices</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Aggregated total order: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getAggregatedTotalOrderIndices</span><span class="p">()))</span>
<span class="c1"># get indices</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First order: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getFirstOrderIndices</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total order: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getTotalOrderIndices</span><span class="p">()))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Aggregated</span> <span class="n">first</span> <span class="n">order</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.730209</span><span class="p">,</span><span class="mf">0.0326692</span><span class="p">,</span><span class="mf">0.000894105</span><span class="p">]</span>
<span class="n">Aggregated</span> <span class="n">total</span> <span class="n">order</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.97535</span><span class="p">,</span><span class="mf">0.236755</span><span class="p">,</span><span class="mf">0.00106565</span><span class="p">]</span>
<span class="n">First</span> <span class="n">order</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.730209</span><span class="p">,</span><span class="mf">0.0326692</span><span class="p">,</span><span class="mf">0.000894105</span><span class="p">]</span>
<span class="n">Total</span> <span class="n">order</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.97535</span><span class="p">,</span><span class="mf">0.236755</span><span class="p">,</span><span class="mf">0.00106565</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="change-the-method-to-compute-the-indices">
<h3>Change the method to compute the indices<a class="headerlink" href="#change-the-method-to-compute-the-indices" title="Permalink to this headline">¶</a></h3>
<p>OpenTURNS implements 4 methods : Saltelli, Martinez, Jansen and
Mauntz-Kucherenko. These methods can be chosen using the method
<em>setSensitivityMethod</em>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">sobol</span><span class="o">.</span><span class="n">setSensitivityMethod</span><span class="p">(</span><span class="s2">&quot;Martinez&quot;</span><span class="p">)</span>
<span class="n">sobol</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># get the OpenTURNS object</span>
<span class="n">sobol_result</span> <span class="o">=</span> <span class="n">sobol</span><span class="o">.</span><span class="n">getSensitivityResult</span><span class="p">()</span>
<span class="c1"># get aggregated indices</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Aggregated first order: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getAggregatedFirstOrderIndices</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Aggregated total order: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sobol_result</span><span class="o">.</span><span class="n">getAggregatedTotalOrderIndices</span><span class="p">()))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Aggregated</span> <span class="n">first</span> <span class="n">order</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.795352</span><span class="p">,</span><span class="mf">0.0913042</span><span class="p">,</span><span class="mf">0.047562</span><span class="p">]</span>
<span class="n">Aggregated</span> <span class="n">total</span> <span class="n">order</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.916833</span><span class="p">,</span><span class="mf">0.211141</span><span class="p">,</span><span class="mf">0.003963</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="adaptiveHitMissPOD.html" title="Adaptive Hit Miss POD"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">otpod  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../examples.html" >Examples of the API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016.
      Last updated on Apr 24, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>